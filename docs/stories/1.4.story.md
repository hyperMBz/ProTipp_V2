# Story 1.4: Professional UI/UX Redesign

## Story Information

- **Epic**: 1 - ProTipp V2 Professional Arbitrage Platform Enhancement
- **Story Number**: 1.4
- **Status**: Draft
- **Priority**: High
- **Estimated Effort**: 10-14 hours
- **Dependencies**: Story 1.1, 1.2, 1.3 (Core functionality)

## User Story

**As a** user,
**I want** a professional interface inspired by oddsjam.com,
**so that** I have a modern and intuitive betting experience.

## Acceptance Criteria

1. **oddsjam.com-inspired Layout**: Professional layout and navigation
2. **Advanced Filtering**: Enhanced filtering and search capabilities
3. **Customizable Dashboard**: Drag-and-drop dashboard widgets
4. **Mobile-first Design**: Responsive design for all devices
5. **PWA Capabilities**: Progressive Web App with offline support

## Integration Verification

- **IV1**: All existing tabs and functionality remain accessible
- **IV2**: shadcn/ui components continue to work
- **IV3**: Dark mode theme remains functional

## Dev Notes

### Previous Story Insights
- Bookmaker API integration provides data sources
- Real-time infrastructure enables live updates
- Advanced arbitrage engine provides enhanced opportunities

### Data Models [Source: architecture.md#data-models]

**DashboardWidgetModel**:
```typescript
interface DashboardWidget {
  id: string;
  type: 'arbitrage_table' | 'profit_chart' | 'bookmaker_status' | 'alerts';
  position: { x: number; y: number; w: number; h: number };
  settings: Record<string, any>;
  is_visible: boolean;
  user_id: string;
}
```

**UserPreferencesModel**:
```typescript
interface UserPreferences {
  user_id: string;
  theme: 'dark' | 'light' | 'auto';
  layout: 'compact' | 'comfortable' | 'spacious';
  default_filters: {
    sports: string[];
    min_profit: number;
    max_risk: number;
    bookmakers: string[];
  };
  notifications: {
    email: boolean;
    push: boolean;
    sms: boolean;
  };
}
```

### Component Specifications [Source: architecture.md#component-architecture]

**ProfessionalDashboard Component**:
- **Responsibility**: Main dashboard with oddsjam.com inspiration
- **Key Interfaces**: LayoutManager, WidgetSystem, FilterEngine
- **Dependencies**: All previous story components
- **Technology Stack**: shadcn/ui, Tailwind CSS, React Grid Layout

### File Locations [Source: architecture.md#source-tree-integration]

**New Files to Create**:
- `src/components/dashboard/` - Dashboard components
- `src/components/dashboard/ProfessionalDashboard.tsx` - Main dashboard
- `src/components/dashboard/DashboardWidget.tsx` - Widget system
- `src/components/dashboard/LayoutManager.tsx` - Layout management
- `src/components/dashboard/WidgetLibrary.tsx` - Available widgets
- `src/components/filters/AdvancedFilters.tsx` - Enhanced filtering
- `src/components/filters/SearchEngine.tsx` - Advanced search
- `src/components/layout/ResponsiveLayout.tsx` - Mobile-first layout
- `src/components/pwa/ServiceWorker.ts` - PWA service worker
- `src/components/pwa/OfflineSupport.tsx` - Offline functionality
- `src/lib/hooks/use-dashboard.ts` - Dashboard management hooks
- `src/lib/hooks/use-preferences.ts` - User preferences hooks

**Existing Files to Modify**:
- `src/app/page.tsx` - Complete redesign with new layout
- `src/components/ArbitrageTable.tsx` - Enhanced with new features
- `src/app/layout.tsx` - Add PWA support and theme management

### Technical Constraints [Source: architecture.md#technical-constraints]

- **Design System**: Must use existing shadcn/ui components
- **Responsive Design**: Mobile-first approach required
- **Performance**: Fast loading and smooth interactions
- **Accessibility**: WCAG 2.1 compliance
- **Browser Support**: Modern browsers with PWA support

## Tasks / Subtasks

### Task 1: Create Professional Dashboard Layout (AC: 1)
1. Create `src/components/dashboard/ProfessionalDashboard.tsx` - Main dashboard
2. Implement oddsjam.com-inspired layout structure
3. Add responsive grid system for widgets
4. Create navigation and header components
5. **Unit Test**: Test dashboard layout and responsiveness

### Task 2: Implement Widget System (AC: 3)
1. Create `src/components/dashboard/DashboardWidget.tsx` - Widget system
2. Create `src/components/dashboard/WidgetLibrary.tsx` - Available widgets
3. Implement drag-and-drop functionality
4. Add widget configuration and settings
5. **Unit Test**: Test widget system functionality

### Task 3: Create Advanced Filtering (AC: 2)
1. Create `src/components/filters/AdvancedFilters.tsx` - Enhanced filtering
2. Create `src/components/filters/SearchEngine.tsx` - Advanced search
3. Implement multi-criteria filtering
4. Add saved filter presets
5. **Unit Test**: Test filtering and search functionality

### Task 4: Implement Mobile-first Design (AC: 4)
1. Create `src/components/layout/ResponsiveLayout.tsx` - Mobile-first layout
2. Implement responsive breakpoints
3. Add touch-friendly interactions
4. Optimize for mobile performance
5. **Unit Test**: Test responsive design across devices

### Task 5: Add PWA Capabilities (AC: 5)
1. Create `src/components/pwa/ServiceWorker.ts` - PWA service worker
2. Create `src/components/pwa/OfflineSupport.tsx` - Offline functionality
3. Implement app manifest and icons
4. Add offline data caching
5. **Unit Test**: Test PWA functionality

### Task 6: Create User Preferences System (AC: 1, 3)
1. Create `src/lib/hooks/use-preferences.ts` - User preferences hooks
2. Implement theme management (dark/light/auto)
3. Add layout customization options
4. Create preference persistence
5. **Unit Test**: Test preferences system

### Task 7: Integrate with Existing Components (IV1, IV2, IV3)
1. Update `src/app/page.tsx` with new professional layout
2. Enhance `src/components/ArbitrageTable.tsx` with new features
3. Ensure all existing tabs remain accessible
4. Maintain shadcn/ui component compatibility
5. **Integration Test**: Verify existing functionality preserved

### Task 8: Performance and Accessibility (AC: 4, 5)
1. Optimize component performance
2. Add accessibility features (ARIA labels, keyboard navigation)
3. Implement lazy loading for widgets
4. Add performance monitoring
5. **Test**: Accessibility and performance testing

## Success Criteria

- ✅ Professional oddsjam.com-inspired interface
- ✅ Advanced filtering and search capabilities
- ✅ Customizable dashboard with drag-and-drop widgets
- ✅ Mobile-first responsive design
- ✅ PWA capabilities with offline support
- ✅ All existing tabs and functionality remain accessible
- ✅ shadcn/ui components continue to work
- ✅ Dark mode theme remains functional
- ✅ Performance optimized for all devices
- ✅ WCAG 2.1 accessibility compliance

## Risk Mitigation

- **Design Consistency**: Maintain existing shadcn/ui patterns
- **Performance Impact**: Optimize and lazy load components
- **Browser Compatibility**: Progressive enhancement approach
- **Integration Complexity**: Incremental implementation with testing
- **Existing System Stability**: Comprehensive testing of all features
